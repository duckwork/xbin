#!/bin/dash
# Window Under Point

. $WMRC
ARGS="[<x> <y>]"

test $# -eq 0 && {
    read x y << end
    $(wmp)
end
} || {
    test $# -eq 2 || usage $ERRARG;
    x=$1; y=$2;
}

for wid in $(lsw | tac); do
    gwc w $wid;
    test $wx -gt $x            && continue;
    test $wy -gt $y            && continue;
    test $(( wx + ww )) -lt $x && continue;
    test $(( wy + wh )) -lt $y && continue;
    echo "$wid";
    exit $SUCCESS;
    unset -v wid;
done

exit $ERRWIN # no window under point
